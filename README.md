# community
去中心化社区

## local 
本机节点服务，

udp打洞，udp/tcp数据传输,http服务

安装后异步启动 打洞，数据接受和同步，http web服务

## burrow
打洞服务，常部署在公网

## 版本
- 0.1  打洞实现，数据交流基础功能
- 0.2  web操作界面
-

#### todo
- 项目结构调整
- udp数据包定义
- udp数据包压缩解压
- 数据实体 - 节点表
- 数据实体 - 资料信息
- 节点表设计与定义
- 资料索引表与定义
- 资料存储的设计
- 广播资料的设计
- 同步资料的设计


## 数据包定义

实体:  资料（html文本+媒体附件）; 第一版本用文本代替， 第二版本设计资料的结构

UDP报文包: 用于通知交互，资料信息广播

TCP数据包: 资料数据拉取

#### UDP报文包

第一个字节是指令:
- x00 : [来自burrow] 节点表
- x01 : [来自节点] 数据包
- x02 : [来自burrow] 返回节点自己的地址

预留7个字节用与以后扩展

后面字节用于数据，建议小于540个字节

封包 : 压缩数据 -> 装载数据包
解包 : 匹配指令 -> 解压数据


压缩解压使用 gzip

数据实体:
```
节点表
req
{
    page: 0
}
resp
{
    list：
    page: ++
}


资料信息
{
    id: 唯一id
    title: 标题或简介
    hash: 数据存储的分片hash
    ...
}
```




